# 💬 **ディスカッションフォルダ運用ルール**

## 🎯 **目的と役割**

このフォルダ（`template-improvement-analysis/`）は、**テンプレートの改善・整理・モダン化**に関する議論を行う専用スペースです。

## 📋 **運用ルール**

### **✅ このフォルダで扱うもの**
- フォルダ構造の改善提案
- V1→V2移行計画
- 技術スタック検討
- アーキテクチャ設計議論
- パフォーマンス改善案
- ユーザビリティ向上策

### **❌ このフォルダで扱わないもの**
- 個別機能の実装（`app/`で行う）
- バグ修正（issueで管理）
- 日常のメンテナンス作業
- 本番環境の設定変更

## 📁 **ファイル命名規則**

### **新規ディスカッションフォルダ作成**
```
YYYYMMDD-[議題キーワード]/
例: 20250821-multi-device-git-workflow/
例: 20250821-folder-naming-decision/
```

### **提案・検討段階**
```
PROPOSED_[内容]_[日付].md
例: PROPOSED_FOLDER_STRUCTURE_20250821.md
```

### **比較・評価段階**
```
[A]_VS_[B]_COMPARISON_[日付].md
例: V1_VS_V2_COMPARISON_RESULTS.md
```

### **専門エージェント評価**
```
EVALUATION_[エージェント名]_[日付].md
例: EVALUATION_softengineer_20250821.md
```

### **決定事項**
```
DECISION_[内容]_[日付].md
例: DECISION_MODERN_STRUCTURE_20250821.md
```

### **作業チェックリスト**
```
CHECKLIST_[内容].md
例: CHECKLIST_FOLDER_MIGRATION.md
```

## 🔄 **ディスカッションフロー**

### **1. 提案段階**
1. `PROPOSED_*.md` ファイルを作成
2. 複数案がある場合は番案として整理
3. メリット・デメリットを明記

### **2. 検討段階**
1. 各専門エージェントの評価を依頼
2. `*_EVALUATION.md` として結果をまとめ
3. 比較表やスコアリングを実施

### **3. 決定段階**
1. `DECISION_*.md` として最終決定を記録
2. 実装チェックリストを作成
3. 担当者・期限を明記

### **4. 実装段階**
1. 実際の作業は本体フォルダで実施
2. 進捗を `PROGRESS_*.md` で管理
3. 完了後に結果報告

## 🛡️ **品質管理**

### **必須要素**
- **目的**: なぜこの改善が必要か
- **影響範囲**: どこに影響するか
- **リスク評価**: 何が問題になり得るか
- **成功指標**: どうなれば成功か

### **推奨要素**
- **代替案**: 他にどんな方法があるか
- **コスト評価**: 工数・リソースはどの程度か
- **長期影響**: 1年後にどうなるか

## 👥 **役割分担**

### **Claude（メイン）**
- 全体調整とファシリテーション
- 最終的な意思決定サポート
- ドキュメント品質管理

### **専門エージェント**
- **softengineer-expert**: 技術的評価
- **agents-manager**: プロジェクト管理視点
- **doc-writer**: ドキュメント品質評価
- **problem-sleuth-engineer**: リスク分析

## 📊 **成果物の管理**

### **現在進行中**
- `FOLDER_REORGANIZATION_PROPOSAL.md` - フォルダ構造改善案
- `PROPOSED_MODERN_STRUCTURE.md` - モダン構造設計
- `V1_VS_V2_COMPARISON_RESULTS.md` - 専門家評価結果

### **完了済み**
- なし（新設フォルダのため）

### **次回予定**
- フォルダ名の人間フレンドリー化
- 開発可否の即座判別システム
- V2必須フォルダの追加計画
- マルチデバイスGit統合フロー改善

## 🚨 **緊急議題: 現在のフォルダ構造の深刻な問題**

**調査日時: 2025-08-23**

### 危険度順の問題一覧（START_HERE.md導入後の状況）

**1. 階層が深すぎる【危険度95点】**
- 現状: 114ファイル（全体の11.7%）が7-8階層の深い場所に存在
- 具体例: `VIEW/reports/template-improvement-analysis/20250821-*/`
- 影響: 開発者が迷子状態、ファイル探索に異常な時間を消費
- START_HERE対応: 新規作成は防止、既存は未解決

**2. どこに何があるか直感的にわからない【危険度90点→30点】**  
- 現状: START_HERE.md で新規作成時の迷いは100%解決
- 残存: 既存ファイルの探索は依然として困難
- 影響: 既存ファイル参照時の時間損失

**3. 重複構造【危険度75点→70点】**
- 具体例:
  - `CREATE/app/web/index.html` vs `CREATE/web/app/index.html`
  - `VIEW/docs/` vs `VIEW/documentation/docs/`
- START_HERE対応: 新規作成時の重複は防止、既存重複は残存

**4. 命名の一貫性がない【危険度65点→50点】**
- 具体例: `20250821-folder-naming-decision` vs `basic-Integrated-Life-App--296bd`
- START_HERE対応: 新規命名は改善、既存の混在は継続

**5. 同じような内容のファイルが大量【危険度55点】**
- 具体例: TEST_RESULT_AI1~AI5.md など86ファイル
- 影響: どれが最新か不明、メンテナンス負荷

**6. ファイル名が長すぎる【危険度40点】**
- 具体例: `CROSS_EVALUATION_agents-manager_20250821.md`
- 影響: 可読性低下、コマンドライン作業困難

### 提案する緊急議題

**A. 深い階層問題の即座対応**
1. 114ファイルの2-3階層への再配置
2. `template-improvement-analysis/20250821-*/` の整理
3. archive フォルダ作成による過去分析の移動

**B. 重複構造の統合**  
1. `VIEW/docs/` vs `VIEW/documentation/docs/` の統一
2. `CREATE/` 内の web フォルダ重複解消

**C. ファイル名の短縮化**
1. 長いファイル名の省略ルール策定
2. 日付形式の統一

### START_HERE.mdの成果
- ✅ 新規ファイル配置の迷い（100%解決）
- ✅ 基本構造の理解不足（100%解決）
- ❌ 既存問題は未解決（11.7%のファイルが深い階層に残存）

## 🎯 **サブエージェント指示テンプレート（必須使用）**

### **🔥 重要**: すべてのサブエージェント指示でこのテンプレートを使用すること

```markdown
【議論背景理解 + 専門調査指示】

## 🔍 **前提理解必須（STEP 1）**
まず以下の文書を必ず読んで、議論の背景と目的を完全に理解してください：

### 必読文書
1. **議論の核心文書**
   パス: `[具体的なパス]`
   目的: [文書の目的]

2. **議論プロセス文書**
   パス: `[具体的なパス]`
   目的: [文書の目的]

## 🎯 **議論の文脈（STEP 2）**
### 背景課題
- **現状問題**: [具体的な問題]
- **具体的課題**: [詳細な課題]
- **目標**: [解決したい状態]

### 提案内容
- [提案の概要]
- [提案のポイント]
- [検討体制]

## 📊 **専門調査指示（STEP 3）**
### 調査対象
**厳密指定**: `[正確なパス]` 
**注意**: この指定パス内のみ。ユーザールート全体や他フォルダは対象外

### あなたの専門分野での評価観点
**[エージェント名]の場合**:
- [専門分野からの評価ポイント1]
- [専門分野からの評価ポイント2]
- [専門分野からの評価ポイント3]
- [専門分野からの評価ポイント4]

## 📋 **必須作業項目（STEP 4）**
1. **背景理解確認**: 上記文書を読んで課題を理解したか明記
2. **実測調査**: ファイル数・構造を実際に測定（推測・概算禁止）
3. **専門評価**: あなたの専門分野から見た提案の評価・課題
4. **改善提案**: 具体的な解決策・改善案の提示
5. **手順書作成**: 他者が同じ調査を再現できる詳細手順
6. **成果物保存**: 調査結果を `EVALUATION_[エージェント名]_[日付].md` として保存

## ⛔ **絶対禁止事項**
- 背景文書を読まずに調査開始
- 推測・概算・概念的な数値報告
- 調査対象パス以外への範囲拡大
- 文脈を無視した表面的な分析
- 根拠のない評価・提案
- ユーザールート（C:\Users\user\）への直接ファイル作成

## 📊 **報告形式**
### 必須記載項目
1. **背景理解**: 読んだ文書名と理解した議論内容の要約
2. **実測結果**: 使用コマンド・手順・実際の数値
3. **専門評価**: 10点満点での評価と根拠
4. **課題特定**: 発見した問題点・リスク
5. **改善提案**: 具体的な解決策
6. **再現手順**: 第三者が同じ結果を得られる手順書

## 💾 **成果物保存場所**
**必須**: `C:\Users\user\Desktop\work\90_cc\20250821\0000-00-00-project-template\VIEW\reports\template-improvement-analysis\[議題フォルダ]\`

この指示に従うことで、議論の文脈を理解した上で専門的かつ正確な調査・評価を実施してください。
```

## ⚠️ **注意事項・制約事項**

### **🚨 必須の注意点**
1. **作業場所厳格規定**: 指定パス内のみ作業、ユーザールート（C:\Users\user\）への直接作成禁止
2. **サブエージェント成果物義務**: 全サブエージェントは調査結果を指定場所に文書として保存必須
3. **指示品質管理**: 上記テンプレートを使用しない雑な指示は禁止
4. **既存構造への配慮**: V2モダン構造案との整合性を必ず確認
5. **段階的実装**: 一度に全てを変更せず、影響範囲を限定
6. **バックアップ必須**: 構造変更前は必ず既存状態を保存
7. **テスト実施**: 構造変更後は必ずビルド・動作確認

### **⚠️ 技術的制約**
1. **Git制約**: ファイル移動時はgit mvを使用（履歴保持のため）
2. **パス依存**: import/export文の更新が必要
3. **環境差異**: Windows/Mac/Linuxでのパス区切り文字対応
4. **依存関係**: package.json等の設定ファイル更新必須

### **🔄 運用上の制約**
1. **同期問題**: マルチデバイス環境では作業分担・タイミング調整必須
2. **競合回避**: work_history.log等の共有ファイルは事前分離
3. **ブランチ戦略**: feature/device-name等のブランチ運用推奨
4. **マージ戦略**: 定期的な統合とコンフリクト解決手順確立

### **📋 品質保証制約**
1. **レビュー必須**: 専門エージェント評価を経ない変更禁止
2. **文書化必須**: 変更理由・手順の完全記録
3. **ロールバック対応**: 問題発生時の復元手順準備
4. **影響範囲確認**: 変更による副作用の事前評価

## 🚀 **このフォルダの特徴**

1. **安全な実験場**: 本体に影響せず自由に議論
2. **履歴保存**: すべての検討過程を記録
3. **複数視点**: AI・エージェント・ユーザーの多角的評価
4. **実装連携**: 議論→決定→実装の明確なフロー

---

**作成日**: 2025-08-21  
**更新日**: 2025-08-21  
**管理者**: Claude + 専門エージェント陣  
**目的**: テンプレート品質向上のための組織的議論