# 🎯 **議題定義書：マルチデバイスGit環境でのフォルダ構造妥当性評価**

**作成日**: 2025年8月23日  
**議題**: マルチデバイス・マルチユーザーでGitを使用する際の現テンプレートフォルダ分割の妥当性評価  
**検討方式**: 8エージェント評価体制による専門的分析

---

## 🔍 **背景（なぜこの議題が必要か）**

### **現状の深刻な問題**
1. **マルチデバイス競合発生**: Windows/Mac/タブレットでの `work_history.log`、`package-lock.json`等の競合
2. **フォルダ構造の複雑化**: 114ファイル（11.7%）が7-8階層の深い場所に存在
3. **開発効率低下**: ファイル探索に異常な時間を消費、開発者が迷子状態
4. **変更理由の混在**: 異なる目的のファイルが同じフォルダに混在し、不要な競合を誘発

### **GPT5案からの知見統合**
**核心原則**: **「1ファイル=1変更理由」「1フォルダ=1変更理由の集合」**

- **変更理由**: そのファイル・フォルダを編集する"きっかけ"の種類
- **電卓例**: 演算ルール変更時は `ops.ts` のみ、表示変更時は `format.ts` のみを変更
- **境界明確化**: 入力→処理→出力のパイプラインで責務分離

---

## 📋 **現状分析（何に困っているか）**

### **具体的な競合事例**
- `work_history.log`: 作業履歴記録（全デバイス共通）
- `package-lock.json`: 依存関係固定（環境依存）
- `CREATE/app/web/index.html` vs `CREATE/web/app/index.html`: 重複構造
- `VIEW/docs/` vs `VIEW/documentation/docs/`: 命名不一致

### **現在のフォルダ構造問題**
- **深い階層**: 7-8階層で開発者混乱
- **重複構造**: 同じ目的のフォルダが複数存在
- **変更理由混在**: UIファイルと設定ファイルが同じフォルダに存在

---

## 🎯 **影響範囲（どこに影響するか）**

### **直接影響**
- **開発効率**: ファイル探索時間・競合解決時間
- **チーム協調**: マルチデバイス・マルチメンバー作業
- **保守性**: 新規参加者の学習コスト

### **間接影響**  
- **デプロイ安定性**: 競合による本番環境への影響
- **プロジェクト品質**: 構造混乱による設計品質低下

---

## ⚠️ **制約条件（何を守るべきか）**

### **技術的制約**
1. **Git制約**: ファイル移動時はgit mvで履歴保持
2. **既存依存**: import/export文・package.json等の更新必須
3. **環境差異**: Windows/Mac/Linuxでのパス区切り対応

### **運用制約**
1. **段階的移行**: 一度に全変更せず影響範囲限定
2. **バックアップ必須**: 構造変更前の状態保存
3. **チーム同期**: 移行期間中の作業分担・タイミング調整

---

## 🏆 **成功基準（どうなれば解決か）**

### **定量的目標**
- **競合発生**: 現状月5-10回 → 月1回以下
- **ファイル探索時間**: 現状平均2-3分 → 30秒以内
- **深い階層ファイル**: 現状11.7% → 3%以下

### **定性的目標**
- **直感的ナビゲーション**: 新規参加者が迷わない構造
- **競合ゼロ設計**: デバイス別・用途別の明確な分離
- **変更理由一致**: 1フォルダ=1変更理由の実現

---

## 📚 **考慮材料（判断に必要な情報）**

### **既存提案・分析**
1. **V2モダン構造案**: デバイス別ワークスペース分離設計
2. **8エージェント評価**: 技術・管理・文書・リスク観点の多角分析
3. **START_HERE.md効果**: 新規作成時の迷い100%解決実績

### **外部ベストプラクティス**
- **モノレポ構造**: packages/apps分離パターン
- **機能別分割**: Vertical Slice Architecture
- **責務分離**: 入力/処理/出力の明確な境界

---

## 📖 **関連資料**

### **必読文書**
1. **現状分析**: `DISCUSSION_FOLDER_RULES.md` (行126-180: 緊急議題)
2. **プロセス**: `DISCUSSION_PROCESS_MANUAL_V2.md` (8エージェント体制)
3. **GPT5知見**: 1ファイル=1変更理由原則、電卓例による責務分離設計

### **参考資料**
- `PROPOSED_MULTI_DEVICE_GIT_INTEGRATION_20250821.md`: マルチデバイス統合提案
- 過去の評価結果: 専門エージェントによる技術・管理・UX・リスク分析

---

## 🔧 **検討すべき解決アプローチ**

### **A. 変更理由別フォルダ再編**
- UI/ロジック/設定の完全分離
- デバイス依存/共通ファイルの明確分割

### **B. 階層最適化**
- 7-8階層 → 3-4階層への再配置
- 頻繁アクセスファイルの浅い場所配置

### **C. 命名規則統一**
- 変更理由をフォルダ名に反映
- 日付・責務の一貫した表記

---

**この議題定義に基づき、8エージェントによる専門的な提案・評価を実施し、マルチデバイスGit環境に最適なフォルダ構造設計の最終決定を行います。**